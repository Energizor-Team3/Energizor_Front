<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/resources/js/common/header.js"></script>
  <script src="/resources/js/common/contents.js"></script>
  <script src="/resources/js/calendar/index.global.js"></script>
  <link rel="stylesheet" href="/resources/css/common/header.css">
  <link rel="stylesheet" href="/resources/css/calendar/calendar.css">
</head>
<body>

  <div id="wrap">
    <header>
      <h1><img src="/resources/images/Logo.png" alt=""></h1>
      <nav>
        <div id="main_list_icon">
          <div>
            <a href="#" ><img src="/resources/images/Home.png" alt=""></a><span>홈</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Approval.png" alt=""></a><span>전자결재</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Attendance.png" alt=""></a><span>근태관리</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/calendar.png" alt=""></a><span>일정관리</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Address.png" alt=""></a><span>주소록</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Organization.png" alt=""></a><span>조직도</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Mail.png" alt=""></a><span>쪽지</span>
          </div>
          <div>
            <a href="#" ><img src="/resources/images/Messanger.png" alt=""></a><span>메신저</span>
          </div>
          <div>
            <a href="#"><img src="/resources/images/reservation.png" alt=""></a><span>자원예약</span>
          </div>
          <div>
            <a href="#"><img src="/resources/images/board.png" alt=""></a><span>게시판</span>
          </div>
        </div>
      </nav>
    </header>

    <section>
      <article>
        <h2 class="menu_schedule">일정관리</h2>
        <div id="menu_1">
          <a href="#"><img src="/resources/images/calendarIcon.png" alt=""></a><span>캘린더</span>
        </div>
        <div>
          <button class="cal_btn">일정추가</button>
          <button class="cal_btn">캘린더 설정</button>
        </div>


        <nav class="cal_nav">
          <ul class="cal_ul">
            <li>
              <input type="checkbox" id="allcal_checkbox">
              <label for="allcal_checkbox">전체일정</label>
            </li>
            <li class="cal_menu"><a href="#내캘린더">내 캘린더</a>
              <ul>
                <li>
                  <input type="checkbox" id="cal_checkbox_1">
                  <label for="cal_checkbox_1">개인일정<span class="dot" style=" background-color: red"></span></label>
                </li>
                <li>
                  <input type="checkbox" id="cal_checkbox_2">
                  <label for="cal_checkbox_2">외부일정<span class="dot" style=" background-color: blue"></span></label>
                </li>
              </ul>
            </li>
            <li class="cal_menu"><a href="#내캘린더">공유 캘린더</a>
              <ul>
                <li>
                  <input type="checkbox" id="companysch_cb">
                  <label for="companysch_cb">회사일정<span class="dot_2" style=" background-color: orange"></span></label>
                </li>
                <li>
                  <input type="checkbox" id="departsch_cb">
                  <label for="departsch_cb">부서일정<span class="dot_2" style=" background-color: green"></label>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
        
        
      </article>
    </section>

    <main>
      
      <div id='calendar'></div>
      <div id="schedule">
        <span id="selected_date">2024년 1월 13일</span><span id="schedule_count">1</span>
        <div class="schedule_box" onclick="toggleDetails(this)">
            <div class="schbox_top">
              <div class="sch_time">
                  <div id="sch_start_date">1월3일 10:00</div><span>~</span><div id="sch_end_date">1월3일 11:00</div>
              </div>
              <div class="sch_btns">
                <img src="/resources/images/editIcon 1.png" alt="editIcon" class="editbtn" >
                <img src="/resources/images/trash 1.png" alt="editIcon" class="deletebtn"  onclick="showConfirmationPopup()">
              </div>
            </div>
            <div id="sch_title">외부미팅</div>
            <div class="schbox_mid">
              <div class="cal_name">
                캘린더 : <span class="cal_dot" style=" background-color: blue"></span><span id="cal_name">외부일정</span>
              </div>
              <div class="location">
                장소 &nbsp;&nbsp;&nbsp;: <span id="location">서울시 강남구 무슨동 협력사 사무실</span>
              </div>
              <div class="att_list">
                참석자 : <span id="att_list">박보검</span>
              </div>
              <div class="sch_datail">
                내용&nbsp;&nbsp;&nbsp; : 
                <br>
                <p id="sch_datail">
                협력사 B와의 새로운 프로젝트에 대한 기획 및 협의.
                <br>
                우리 회사 담당자: 김매니저, 이팀장 
                <br>
                협력사 B 담당자: 박팀장, 최개발자
                <br>
                기술적인 요구사항 및 일정 조율.</p>
              </div>
            </div>
        </div>
        <div class="schedule_box"onclick="toggleDetails(this)">
          <div class="schbox_top">
            <div class="sch_time">
                <div id="sch_start_date">1월3일 10:00</div><span>~</span><div id="sch_end_date">1월3일 11:00</div>
            </div>
            <div class="sch_btns">
              <img src="/resources/images/editIcon 1.png" alt="editIcon" class="editbtn" >
              <img src="/resources/images/trash 1.png" alt="editIcon" class="deletebtn" onclick="showConfirmationPopup()">
            </div>
          </div>
          <div id="sch_title">중요미팅</div>
          <div class="schbox_mid">
            <div class="cal_name">
              캘린더 : <span class="cal_dot" style=" background-color: red"></span><span id="cal_name">중요일정</span>
            </div>
            <div class="location">
              장소 &nbsp;&nbsp;&nbsp;: <span id="location">사랑시 고백구 행복동</span>
            </div>
            <div class="att_list">
              참석자 : <span id="att_list">축온청</span>
            </div>
            <div class="sch_datail">
              내용 &nbsp;&nbsp;&nbsp;: 
              <br>
              <p id="sch_datail">
              협력사 B와의 새로운 프로젝트에 대한 기획 및 협의.
              <br>
              우리 회사 담당자: 김매니저, 이팀장 
              <br>
              협력사 B 담당자: 박팀장, 최개발자
              <br>
              기술적인 요구사항 및 일정 조율.</p>
            </div>
          </div>
      </div>
      <div class="delete_popup">
        <p>삭제하시겠습니까?</p>
        <button onclick="deleteSchedule()">확인</button>
        <button onclick="hideConfirmationPopup()">취소</button>
      </div>
    
      <div class="dpop_overlay" onclick="hideConfirmationPopup()"></div>





      </div>
    
    </main>
    <script>
      function toggleDetails(element) {
        // Your existing toggleDetails function logic here
      }
  
      function showConfirmationPopup() {
        document.querySelector('.delete_popup').style.display = 'block';
        document.querySelector('.dpop_overlay').style.display = 'block';
      }
  
      function hideConfirmationPopup() {
        document.querySelector('.delete_popup').style.display = 'none';
        document.querySelector('.dpop_overlay').style.display = 'none';
      }
    </script>
  

    <script>
      document.querySelectorAll('.cal_ul li.cal_menu > a').forEach(function(item) {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          this.parentNode.classList.toggle('cal_menu');
        });
      });

      function toggleDetails(scheduleBox) {
    const midSection = scheduleBox.querySelector('.schbox_mid');
    const botSection = scheduleBox.querySelector('.schbox_bot');

    // 토글: 중간과 끝 부분을 숨기거나 보이게 함
    midSection.style.display = midSection.style.display === 'none' ? 'block' : 'none';
    botSection.style.display = botSection.style.display === 'none' ? 'block' : 'none';
    
  }


document.addEventListener('DOMContentLoaded', function() {
  var calendarEl = document.getElementById('calendar');

  var calendar = new FullCalendar.Calendar(calendarEl, {
    initialDate: '2024-01-12',
    editable: true,
    selectable: true,
    businessHours: true,
    dayMaxEvents: true, // allow "more" link when too many events
    events: [
      {
        title: '종일일정',
        color:'orange',
        start: '2024-01-01'
      },
      {
        title: '정산일',
        color:'green',
        start: '2024-01-07',
        end: '2024-01-10'
      },
      {
        groupId: 999,
        title: '회의',
        start: '2024-01-09T16:00:00'
      },
      {
        groupId: 999,
        title: '회의',
        start: '2024-01-16T16:00:00'
      },
      {
        title: '장재영',
        color:'orange',
        start: '2024-01-11',
        end: '2024-01-13'
      },
      {
        title: '교육',
        color:'green',
        start: '2024-01-12T10:30:00',
        end: '2024-01-12T12:30:00'
      },
      {
        title: 'Lunch',
        start: '2024-01-12T12:00:00'
      },
      {
        title: 'Meeting',
        start: '2024-01-12T14:30:00'
      },
      {
        title: 'Happy Hour',
        start: '2024-01-12T17:30:00'
      },
      {
        title: 'Dinner',
        start: '2024-01-12T20:00:00'
      },
      {
        title: '자유시간',
        color:'blue',
        start: '2024-01-13T07:00:00'
        
      },
      {
        title: 'Click for Google',
        url: 'http://google.com/',
        start: '2024-01-28'
      }
    ]
  });

  calendar.render();
});


    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var allcalCheckbox = document.getElementById("allcal_checkbox");
        var checkboxes = document.querySelectorAll(".cal_nav input[type='checkbox']");
    
        allcalCheckbox.addEventListener("change", function () {
          checkboxes.forEach(function (checkbox) {
            checkbox.checked = allcalCheckbox.checked;
          });
        });
    
        checkboxes.forEach(function (checkbox) {
          checkbox.addEventListener("change", function () {
            // 전체일정 체크박스의 체크 여부 업데이트
            allcalCheckbox.checked = areAllCheckboxesChecked();
          });
        });
    
        function areAllCheckboxesChecked() {
          var allChecked = true;
          checkboxes.forEach(function (checkbox) {
            if (!checkbox.checked) {
              allChecked = false;
            }
          });
          return allChecked;
        }
      });
    </script>
    
</body>
</html>